{% extends "base.html" %}

{% block title %}GravityChats - Market Dashboard{% endblock %}

{% block buttons_sidebar %}
    {% include "buttons_sidebar.html" %}
{% endblock %}

{% block settings_sidebar %}
    {% include "settings_sidebar.html" %}
{% endblock %}

{% block main_content %}
    {% include "content_boxes.html" with context %}
{% endblock %}

{% block scripts %}
    {{ super() }}
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const analysisPage = "{{ analysis_page|default('Market Dashboard') }}";
            const contentBoxes = document.querySelectorAll('.content-part');

            // Set content box titles based on current analysis page
            contentBoxes.forEach((box, index) => {
                box.querySelector('h5').textContent = `${analysisPage} Content Part ${index + 1}`;
                box.querySelector('p').textContent = `Details for ${analysisPage} content part ${index + 1}.`;
                box.style.cursor = 'pointer';
                box.onclick = () => {
                    // Drill-down or navigation logic can be added here
                    alert(`Drill down into ${analysisPage} content part ${index + 1}`);
                };
            });
        });
    </script>
{% endblock %}
