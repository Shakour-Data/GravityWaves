# GravityChats UI Architecture Documentation

## Overview

The GravityChats frontend UI is designed with a focus on consistency, usability, and extensibility. The architecture supports a uniform layout across all analysis pages, dynamic content rendering, and nested drill-down content exploration. This document details the key architectural principles, UI components, and message flows that define the system.

---

## 1. Consistent Layout

- **Persistent Sidebars:**  
  All analysis pages share a consistent layout featuring two persistent sidebars:
  - **Navigation Buttons Sidebar:** Contains buttons for navigating between different analysis pages (e.g., Price History, State Analysis, Indicator Analysis, etc.).
  - **Settings Sidebar:** Provides general settings inputs such as ticker symbol, number of candles, investment horizon, data source, and time frame.

- **Main Content Area:**  
  The central area of the page dynamically displays content relevant to the selected analysis page. This area updates without reloading the entire page, maintaining the sidebars intact.

- **Footer and Header:**  
  A consistent header with logo and date/time information, and a footer with copyright information, are present on all pages.

---

## 2. Dynamic Main Content

- **Content Boxes:**  
  The main content area is divided into six equal content boxes arranged in a 2x3 grid. Each box displays a portion of the analysis data or interactive elements.

- **Dynamic Naming:**  
  Content boxes are dynamically named based on the current analysis page and drill-down path. For example, on the Indicator Analysis page, boxes are titled "Indicator Analysis Content Part 1", "Indicator Analysis Content Part 2", etc.

- **Drill-Down Functionality:**  
  Users can click on content boxes to drill down into more detailed sub-content. The drill-down path is tracked via URL parameters (`drillDownPath`), enabling deep navigation within the data hierarchy.

---

## 3. Navigation

- **Buttons Functionality:**  
  Navigation buttons are functional and consistent across all pages. They use direct links or JavaScript event handlers to navigate between analysis pages, preserving the application state.

- **Breadcrumbs and Back Button:**  
  When drilling down into nested content, breadcrumbs and a back button appear to help users understand their current location and navigate back up the hierarchy.

---

## 4. Template Structure

- **Shared Templates and Partials:**  
  The UI uses shared templates such as `nested_content_layout.html` and partials like `buttons_sidebar.html` and `settings_sidebar.html` to avoid duplication and maintain consistency.

- **Page-Specific Content:**  
  Individual analysis pages extend the shared layout and provide unique content within designated blocks, primarily the main content area.

---

## 5. Nested Content Architecture

- **Hierarchical Content:**  
  The nested content design allows users to explore data progressively. Each content box can represent a node in the hierarchy, and clicking it loads child nodes.

- **URL Parameter Tracking:**  
  The drill-down path is encoded in the URL, enabling bookmarking and sharing of specific views.

- **Dynamic Rendering:**  
  JavaScript dynamically renders content boxes based on the current drill-down path, updating titles and content accordingly.

- **User Experience:**  
  This approach provides an intuitive and responsive experience, minimizing page reloads and maintaining context.

---

## 6. Message Flows and UI Events

- **Page Load:**  
  On page load, JavaScript reads the `drillDownPath` parameter and renders the appropriate content boxes.

- **Button Clicks:**  
  Clicking a navigation button triggers a page navigation to the corresponding analysis page.

- **Content Box Clicks:**  
  Clicking a content box updates the `drillDownPath` parameter and reloads the content area with deeper nested data.

- **Back Button:**  
  Clicking the back button removes the last segment of the `drillDownPath`, navigating up one level in the hierarchy.

---

## 7. Performance and Usability Considerations

- **Responsive Design:**  
  The layout uses Bootstrap and custom CSS to ensure responsiveness across devices.

- **Cache Management:**  
  To ensure users see the latest changes, browser cache clearing is recommended before running the application.

- **Extensibility:**  
  The modular template and JavaScript design allow easy addition of new analysis pages and content types.

---

## Conclusion

The GravityChats UI architecture balances consistency, dynamic content rendering, and user-friendly navigation. By leveraging shared templates, dynamic JavaScript rendering, and hierarchical content structures, it provides a scalable and maintainable frontend experience.

---

*Document generated by BLACKBOXAI assistant.*
